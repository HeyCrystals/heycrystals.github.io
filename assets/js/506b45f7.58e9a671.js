"use strict";(self.webpackChunkwiki=self.webpackChunkwiki||[]).push([[2424],{3905:(e,n,i)=>{i.d(n,{Zo:()=>d,kt:()=>S});var s=i(67294);function t(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function o(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,s)}return i}function r(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function a(e,n){if(null==e)return{};var i,s,t=function(e,n){if(null==e)return{};var i,s,t={},o=Object.keys(e);for(s=0;s<o.length;s++)i=o[s],n.indexOf(i)>=0||(t[i]=e[i]);return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)i=o[s],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}return t}var p=s.createContext({}),l=function(e){var n=s.useContext(p),i=n;return e&&(i="function"==typeof e?e(n):r(r({},n),e)),i},d=function(e){var n=l(e.components);return s.createElement(p.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return s.createElement(s.Fragment,{},n)}},u=s.forwardRef((function(e,n){var i=e.components,t=e.mdxType,o=e.originalType,p=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),u=l(i),S=t,g=u["".concat(p,".").concat(S)]||u[S]||c[S]||o;return i?s.createElement(g,r(r({ref:n},d),{},{components:i})):s.createElement(g,r({ref:n},d))}));function S(e,n){var i=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var o=i.length,r=new Array(o);r[0]=u;var a={};for(var p in n)hasOwnProperty.call(n,p)&&(a[p]=n[p]);a.originalType=e,a.mdxType="string"==typeof e?e:t,r[1]=a;for(var l=2;l<o;l++)r[l]=i[l];return s.createElement.apply(null,r)}return s.createElement.apply(null,i)}u.displayName="MDXCreateElement"},20869:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var s=i(87462),t=(i(67294),i(3905));const o={layout:"post",title:"Spring Security\u6846\u67b6\u4e2d\u8e22\u4eba\u4e0b\u7ebf\u6280\u672f\u63a2\u7d22",categories:"Spring Boot",description:"Spring Security\u6846\u67b6\u4e2d\u8e22\u4eba\u4e0b\u7ebf\u6280\u672f\u63a2\u7d22",keywords:["Spring Boot","Spring Security","Spring Security\u8e22\u4eba\u4e0b\u7ebf"]},r=void 0,a={unversionedId:"springboot/2021-04-20-spring-security-out-session",id:"springboot/2021-04-20-spring-security-out-session",title:"Spring Security\u6846\u67b6\u4e2d\u8e22\u4eba\u4e0b\u7ebf\u6280\u672f\u63a2\u7d22",description:"Spring Security\u6846\u67b6\u4e2d\u8e22\u4eba\u4e0b\u7ebf\u6280\u672f\u63a2\u7d22",source:"@site/programmer/blog/springboot/2021-04-20-spring-security-out-session.md",sourceDirName:"springboot",slug:"/springboot/2021-04-20-spring-security-out-session",permalink:"/blog/springboot/2021-04-20-spring-security-out-session",draft:!1,editUrl:"https://github.com/xiaoymin/blog-ai/blob/master/programmer/blog/springboot/2021-04-20-spring-security-out-session.md",tags:[],version:"current",lastUpdatedBy:"xiaoyumin",lastUpdatedAt:1686478303,formattedLastUpdatedAt:"2023\u5e746\u670811\u65e5",frontMatter:{layout:"post",title:"Spring Security\u6846\u67b6\u4e2d\u8e22\u4eba\u4e0b\u7ebf\u6280\u672f\u63a2\u7d22",categories:"Spring Boot",description:"Spring Security\u6846\u67b6\u4e2d\u8e22\u4eba\u4e0b\u7ebf\u6280\u672f\u63a2\u7d22",keywords:["Spring Boot","Spring Security","Spring Security\u8e22\u4eba\u4e0b\u7ebf"]},sidebar:"tutorialSidebar",previous:{title:"Spring Boot\u6846\u67b6\u4e2d\u4f7f\u7528Jackson\u7684\u5904\u7406\u603b\u7ed3",permalink:"/blog/springboot/2021-03-26-spring-boot-code-action-jackson"},next:{title:"springfox \u6e90\u7801\u7cfb\u5217",permalink:"/blog/springfox/2019-05-20-springfox-0"}},p={},l=[{value:"1.\u80cc\u666f",id:"1\u80cc\u666f",level:2},{value:"2.\u9700\u6c42\u5206\u6790",id:"2\u9700\u6c42\u5206\u6790",level:2},{value:"3.\u6e90\u7801\u5206\u6790",id:"3\u6e90\u7801\u5206\u6790",level:2},{value:"4.\u89e3\u51b3\u65b9\u6848",id:"4\u89e3\u51b3\u65b9\u6848",level:2}],d={toc:l};function c(e){let{components:n,...o}=e;return(0,t.kt)("wrapper",(0,s.Z)({},d,o,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h2",{id:"1\u80cc\u666f"},"1.\u80cc\u666f"),(0,t.kt)("p",null,"\u5728\u67d0\u6b21\u9879\u76ee\u7684\u5f00\u53d1\u4e2d\uff0c\u4f7f\u7528\u5230\u4e86Spring Security\u6743\u9650\u6846\u67b6\u8fdb\u884c\u540e\u7aef\u6743\u9650\u5f00\u53d1\u7684\u6743\u9650\u6821\u9a8c\uff0c\u5e95\u5c42\u96c6\u6210Spring Session\u7ec4\u4ef6\uff0c\u975e\u5e38\u65b9\u4fbf\u7684\u96c6\u6210Redis\u8fdb\u884c\u5206\u5e03\u5f0fSession\u7684\u4f1a\u8bdd\u96c6\u7fa4\u90e8\u7f72\u3002\u7cfb\u7edf\u6b63\u5f0f\u4e0a\u7ebf\u540e\uff0c\u5404\u4e2a\u90e8\u7f72\u8282\u70b9\u80fd\u591f\u975e\u5e38\u65b9\u4fbf\u7684\u8fdb\u884c\u96c6\u7fa4\u90e8\u7f72\uff0c\u7528\u6237\u7684Session\u4f1a\u8bdd\u4fe1\u606f\u5168\u90e8\u4fdd\u5b58\u5728Redis\u4e2d\u95f4\u4ef6\u5e93\u4e2d\uff0c\u5f00\u53d1\u8005\u4e0d\u7528\u5173\u5fc3\u5177\u4f53\u7684\u5b9e\u73b0\uff0cSpring Session\u7ec4\u4ef6\u5df2\u7ecf\u5168\u90e8\u96c6\u6210\u597d\u4e86\u3002"),(0,t.kt)("p",null,"\u4f46\u662f\u5728\u7cfb\u7edf\u7684\u7528\u6237\u7ba1\u7406\u6a21\u5757\u4e2d\uff0c\u63d0\u4f9b\u4e86\u5bf9\u7cfb\u7edf\u7528\u6237\u8d26\u53f7\u7684",(0,t.kt)("strong",{parentName:"p"},"\u5220\u9664"),"\u529f\u80fd\u4ee5\u53ca",(0,t.kt)("strong",{parentName:"p"},"\u7981\u7528"),"\u529f\u80fd,\u9488\u5bf9\u8fd9\u4e24\u4e2a\u529f\u80fd\uff0c\u9700\u6c42\u65b9\u7ed9\u51fa\u7684\u5177\u4f53\u8981\u6c42\u662f\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"\u5220\u9664"),"\uff1a\u5f53\u7ba1\u7406\u5458\u5220\u9664\u5f53\u524d\u7528\u6237\u8d26\u53f7\u65f6,\u5982\u679c\u5f53\u524d\u8d26\u53f7\u5df2\u7ecf\u767b\u5f55\u7cfb\u7edf,\u5219\u9700\u8981\u5254\u9664\u4e0b\u7ebf\uff0c\u5e76\u4e14\u4e0d\u53ef\u767b\u5f55"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("strong",{parentName:"li"},"\u7981\u7528"),"\uff1a\u5f53\u7ba1\u7406\u5458\u5bf9\u5f53\u524d\u8d26\u53f7\u7981\u7528\u64cd\u4f5c\u65f6\uff0c\u5982\u679c\u5f53\u524d\u8d26\u53f7\u5df2\u7ecf\u767b\u5f55\u7cfb\u7edf,\u5219\u9700\u8981\u5254\u9664\u4e0b\u7ebf\uff0c\u5e76\u4e14\u767b\u5f55\u65f6\uff0c\u63d0\u793a\u5f53\u524d\u8d26\u53f7\u5df2\u7981\u7528")),(0,t.kt)("h2",{id:"2\u9700\u6c42\u5206\u6790"},"2.\u9700\u6c42\u5206\u6790"),(0,t.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u9700\u6c42\u6765\u770b\uff0c\u4e0d\u7ba1\u662f",(0,t.kt)("strong",{parentName:"p"},"\u5220\u9664"),"\u8fd8\u662f",(0,t.kt)("strong",{parentName:"p"},"\u7981\u7528"),"\u529f\u80fd\uff0c\u90fd\u9700\u8981\u5b9e\u73b0\uff0c\u5982\u679c\u5f53\u524d\u8d26\u53f7\u5df2\u7ecf\u767b\u5f55\u7cfb\u7edf\uff0c\u5219\u9700\u8981\u5254\u9664\u4e0b\u7ebf\uff0c\u800c",(0,t.kt)("strong",{parentName:"p"},"\u7981\u7528"),"\u64cd\u4f5c\u53ea\u9700\u8981\u518d\u767b\u5f55\u65f6\u7ed9\u51fa\u63d0\u793a\u4fe1\u606f\u5373\u53ef\uff0c\u8fd9\u4e2a\u5728\u4e1a\u52a1\u767b\u5f55\u65b9\u6cd5\u4e2d\u5c31\u53ef\u4ee5\u5b9e\u73b0\uff0c\u4e0d\u5fc5\u4ece\u5e95\u5c42\u6846\u67b6\u8fdb\u884c\u8003\u8651\u3002"),(0,t.kt)("p",null,"\u56e0\u6b64\uff0c\u4ece\u5e95\u5c42\u6280\u672f\u6d4b\u8fdb\u884c\u8003\u8651\u65f6\uff0c\u6211\u4eec\u9700\u8981\u63a2\u7d22\u5982\u4f55\u5728Spring Security\u6743\u9650\u6846\u67b6\u4e2d\u5b9e\u73b0\u8e22\u4eba\u4e0b\u7ebf\u7684\u529f\u80fd\u3002"),(0,t.kt)("p",null,"\u65e2\u7136\u9700\u6c42\u5df2\u7ecf\u660e\u786e\uff0c\u4ece\u529f\u80fd\u7684\u5b9e\u73b0\u53ef\u80fd\u6027\u65b9\u9762\u5165\u624b\uff0c\u6211\u4eec\u5219\u9700\u8981\u4ece\u51e0\u4e2a\u65b9\u9762\u8fdb\u884c\u8003\u8651\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"1)\u3001\u5728Spring Security\u6846\u67b6\u4e2d\uff0c\u7528\u6237\u767b\u5f55\u7684Session\u4f1a\u8bdd\u4fe1\u606f\u5b58\u50a8\u5728\u54ea\u91cc\uff1f"),(0,t.kt)("li",{parentName:"ul"},"2)\u3001\u5728Spring Security\u6846\u67b6\u4e2d\uff0cSession\u4f1a\u8bdd\u5982\u4f55\u5b58\u50a8\uff0c\u4e3b\u8981\u5b58\u50a8\u54ea\u4e9b\u4fe1\u606f?"),(0,t.kt)("li",{parentName:"ul"},"3)\u3001\u5982\u4f55\u6839\u636e\u8d26\u53f7\u6536\u96c6\u5f53\u524d\u8be5\u8d26\u53f7\u767b\u5f55\u7684\u6240\u6709Session\u4f1a\u8bdd\u4fe1\u606f\uff1f"),(0,t.kt)("li",{parentName:"ul"},"4)\u3001\u5982\u4f55\u5728\u670d\u52a1\u7aef\u4e3b\u52a8\u9500\u6bc1Session\u5bf9\u8c61\uff1f")),(0,t.kt)("p",null,"1)\u3001\u5728Spring Security\u6846\u67b6\u4e2d\uff0c\u7528\u6237\u767b\u5f55\u7684Session\u4f1a\u8bdd\u4fe1\u606f\u5b58\u50a8\u5728\u54ea\u91cc\uff1f"),(0,t.kt)("p",null,"\u5982\u679c\u6211\u4eec\u4e0d\u8003\u8651\u5206\u5e03\u5f0fSession\u4f1a\u8bdd\u7684\u60c5\u51b5\uff0c\u5355\u4f53Spring Boot\u9879\u76ee\u4e2d\uff0c\u670d\u52a1\u7aefSession\u4f1a\u8bdd\u80af\u5b9a\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\uff0c\u8fd9\u6837\u7684\u5f0a\u7aef\u662f\u5982\u679c\u5f53\u524d\u5e94\u7528\u9700\u8981\u505a\u8d1f\u8f7d\u5747\u8861\u8fdb\u884c\u90e8\u7f72\u65f6,\u7528\u6237\u8bf7\u6c42\u670d\u52a1\u7aef\u63a5\u53e3\u65f6\uff0c\u4f1a\u5b58\u5728Session\u4f1a\u8bdd\u4e22\u5931\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u7528\u6237\u767b\u5f55\u7684\u4f1a\u8bdd\u4fe1\u606f\u90fd\u5b58\u5728JVM\u5185\u5b58\u4e2d\uff0c\u6ca1\u6709\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5171\u4eab\u4e92\u901a\u3002"),(0,t.kt)("p",null,"\u4e3a\u4e86\u89e3\u51b3\u5206\u5e03\u5f0f\u5e94\u7528Session\u4f1a\u8bdd\u4e0d\u4e22\u5931\u7684\u95ee\u9898,Spring Session\u7ec4\u4ef6\u53d1\u5e03\u4e86\uff0c\u8be5\u7ec4\u4ef6\u63d0\u4f9b\u4e86\u57fa\u4e8eJDBC\\Redis\u7b49\u4e2d\u95f4\u4ef6\u7684\u65b9\u5f0f\uff0c\u5c06\u7528\u6237\u7aef\u7684Session\u4f1a\u8bdd\u5b58\u50a8\u5728\u4e2d\u95f4\u4ef6\u4e2d\uff0c\u8fd9\u6837\u5206\u5e03\u5f0f\u5e94\u7528\u83b7\u53d6\u7528\u6237\u4f1a\u8bdd\u65f6\uff0c\u90fd\u4f1a\u4ece\u4e2d\u95f4\u4ef6\u53bb\u83b7\u53d6\u4f1a\u8bddSession\uff0c\u8fd9\u6837\u4e5f\u4fdd\u8bc1\u4e86\u670d\u52a1\u53ef\u4ee5\u505a\u8d1f\u8f7d\u90e8\u7f72\u4ee5\u4fdd\u8bc1Session\u4f1a\u8bdd\u4e0d\u4e22\u5931\u3002\u672c\u6587\u4e3b\u8981\u8ba8\u8bba\u7684\u4e5f\u662f\u8fd9\u79cd\u60c5\u51b5,\u96c6\u6210Redis\u4e2d\u95f4\u4ef6\u7528\u6765\u4fdd\u5b58\u7528\u6237\u4f1a\u8bdd\u4fe1\u606f\u3002"),(0,t.kt)("p",null,"2)\u3001\u5728Spring Security\u6846\u67b6\u4e2d\uff0cSession\u4f1a\u8bdd\u5982\u4f55\u5b58\u50a8\uff0c\u4e3b\u8981\u5b58\u50a8\u54ea\u4e9b\u4fe1\u606f?"),(0,t.kt)("p",null,"\u7531\u4e8e\u6211\u4eec\u4f7f\u7528\u4e86Redis\u4e2d\u95f4\u4ef6\uff0c\u6240\u4ee5\uff0c\u5728Spring Security\u6743\u9650\u6846\u67b6\u4e2d\u4ea7\u751f\u7684Session\u4f1a\u8bdd\u4fe1\u606f\uff0c\u80af\u5b9a\u5b58\u50a8\u4e0eRedis\u4e2d\uff0c\u8fd9\u70b9\u6beb\u65e0\u7591\u95ee\uff0c\u90a3\u4e48\u5b58\u50a8\u4e86\u54ea\u4e9b\u4fe1\u606f\u5462\uff1f\u6211\u4f1a\u5728\u63a5\u4e0b\u6765\u7684\u6e90\u7801\u5206\u6790\u4e2d\u8fdb\u884c\u4ecb\u7ecd"),(0,t.kt)("p",null,"3)\u3001\u5982\u4f55\u6839\u636e\u8d26\u53f7\u6536\u96c6\u5f53\u524d\u8be5\u8d26\u53f7\u767b\u5f55\u7684\u6240\u6709Session\u4f1a\u8bdd\u4fe1\u606f\uff1f"),(0,t.kt)("p",null,"\u6211\u4eec\u4ece\u4e0a\u9762\u7684\u9700\u6c42\u5206\u6790\u4e2d\u5df2\u7ecf\u5f97\u77e5Session\u4f1a\u8bdd\u5df2\u7ecf\u5b58\u50a8\u5728Redis\u4e2d\uff0c\u90a3\u4e48\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u505a\u8fd9\u6837\u7684\u5047\u8bbe\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6839\u636eSpring Security\u4e2d\u5728Redis\u4e2d\u5b58\u50a8\u7684\u952e\u503c\uff0c\u627e\u5230\u548c\u767b\u5f55\u7528\u6237\u540d\u76f8\u5173\u7684Redis\u7f13\u5b58\u6570\u636e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528Security\u5c01\u88c5\u7684\u65b9\u6cd5\u8fdb\u884c\u83b7\u53d6\uff0c\u5f97\u5230\u5f53\u524d\u767b\u5f55\u8d26\u53f7\u7684\u4f1a\u8bdd\u4fe1\u606f\u5462\uff1f\u8fd9\u4e2a\u6211\u4eec\u9700\u8981\u5728\u6e90\u7801\u4e2d\u53bb\u627e\u5230\u7b54\u6848"),(0,t.kt)("p",null,"4)\u3001\u5982\u4f55\u5728\u670d\u52a1\u7aef\u4e3b\u52a8\u9500\u6bc1Session\u5bf9\u8c61\uff1f"),(0,t.kt)("p",null,"\u5982\u679c\u662f\u5355\u4f53\u7684Spring Boot\u5e94\u7528\uff0cSession\u4fe1\u606f\u80af\u5b9a\u5b58\u50a8\u5728JVM\u7684\u5185\u5b58\u4e2d\uff0c\u670d\u52a1\u7aef\u8981\u4e3b\u52a8\u9500\u6bc1Session\u5bf9\u8c61\u53ea\u9700\u8981\u627e\u5230Security\u6743\u9650\u6846\u67b6\u5982\u4f55\u5b58\u50a8\u7684\u5c31\u53ef\u4ee5\u8fdb\u884c\u5220\u9664\u3002"),(0,t.kt)("p",null,"\u5728\u5206\u5e03\u5f0f\u7684Spring Boot\u5e94\u7528\u4e2d\uff0c\u6211\u4eec\u4ece\u4e0a\u9762\u5df2\u7ecf\u5f97\u77e5Session\u4f1a\u8bdd\u4fe1\u606f\u4ee5\u53ca\u5b58\u50a8\u5728Redis\u4e2d\u95f4\u4ef6\u4e2d\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u5f97\u5230\u5f53\u524d\u767b\u5f55\u7684Session\u5728Redis\u4e2d\u7684\u952e\u503c\uff0c\u5c31\u53ef\u4ee5\u8c03\u7528\u65b9\u6cd5\u8fdb\u884c\u5220\u9664\u64cd\u4f5c\uff0c\u4ece\u800c\u4e3b\u52a8\u5728\u670d\u52a1\u7aef\u9500\u6bc1Session\u4f1a\u8bdd"),(0,t.kt)("h2",{id:"3\u6e90\u7801\u5206\u6790"},"3.\u6e90\u7801\u5206\u6790"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u5728\u4e0a\u9762\u7684\u9700\u6c42\u5206\u6790\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u51fa\u4e86\u5047\u8bbe\uff0c\u5e76\u4e14\u6839\u636e\u5047\u8bbe\uff0c\u505a\u51fa\u6765\u6280\u672f\u6027\u7684\u5224\u65ad\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u4eceSpring Security\u4ee5\u53caSpring Session\u7ec4\u4ef6\u7684\u6e90\u7801\u4e2d\uff0c\u53bb\u5bfb\u627e\u6211\u4eec\u9700\u8981\u7684\u7b54\u6848\u3002")),(0,t.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u5728\u6e90\u7801\u5206\u6790\u524d\uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u5165\u53e3\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5728\u4f7f\u7528Spring Security\u6846\u67b6\uff0c\u5e76\u4e14\u4f7f\u7528Spring Session\u7ec4\u4ef6\u65f6\uff0c\u6211\u4eec\u5982\u4f55\u4f7f\u7528\u7684\u3002"),(0,t.kt)("p",null,"\u5728",(0,t.kt)("inlineCode",{parentName:"p"},"pom.xml"),"\u6587\u4ef6\u4e2d\u5f15\u5165\u7ec4\u4ef6\u7684\u4f9d\u8d56\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\uff0c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!--Spring Security\u7ec4\u4ef6--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n\x3c!--Spring\u9488\u5bf9Redis\u64cd\u4f5c\u7ec4\u4ef6--\x3e\n<dependency>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-data-redis</artifactId>\n</dependency>\n\x3c!--Spring Session\u96c6\u6210Redis\u5206\u5e03\u5f0fSession\u4f1a\u8bdd--\x3e\n<dependency>\n    <groupId>org.springframework.session</groupId>\n    <artifactId>spring-session-data-redis</artifactId>\n</dependency>\n")),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5728Spring Boot\u9879\u76ee\u4e2d\uff0c\u9700\u8981\u6dfb\u52a0",(0,t.kt)("inlineCode",{parentName:"p"},"@EnableRedisHttpSession"),"\u6ce8\u89e3\uff0c\u4ee5\u5f00\u542fRedis\u7ec4\u4ef6\u5bf9Session\u4f1a\u8bdd\u7684\u652f\u6301\uff0c\u8be5\u6ce8\u89e3\u6211\u4eec\u9700\u8981\u5236\u5b9aSpring Session\u5728Redis\u4e2d\u5b58\u50a8\u7684Redis\u547d\u540d\u7a7a\u95f4\uff0c\u5df2\u7ecfSession\u4f1a\u8bdd\u7684\u65f6\u6548\u6027\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'@SpringBootApplication\n@EnableRedisHttpSession(redisNamespace = "fish-admin:session",maxInactiveIntervalInSeconds = 7200)\npublic class FishAdminApplication {\n\n    static Logger logger= LoggerFactory.getLogger(FishAdminApplication.class);\n\n    public static void main(String[] args) throws UnknownHostException {\n        ConfigurableApplicationContext application=SpringApplication.run(FishAdminApplication.class, args);\n        Environment env = application.getEnvironment();\n        String host= InetAddress.getLocalHost().getHostAddress();\n        String port=env.getProperty("server.port");\n        logger.info("\\n----------------------------------------------------------\\n\\t" +\n                        "Application \'{}\' is running! Access URLs:\\n\\t" +\n                        "Local: \\t\\thttp://localhost:{}\\n\\t" +\n                        "External: \\thttp://{}:{}\\n\\t"+\n                        "Doc: \\thttp://{}:{}/doc.html\\n\\t"+\n                        "----------------------------------------------------------",\n                env.getProperty("spring.application.name"),\n                env.getProperty("server.port"),\n                host,port,\n                host,port);\n    }\n')),(0,t.kt)("p",null,"\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u6307\u5b9aRedis\u7684\u547d\u540d\u7a7a\u95f4\u662f",(0,t.kt)("inlineCode",{parentName:"p"},"fish-admin:session"),"\uff0c\u9ed8\u8ba4\u6700\u5927\u5931\u6548",(0,t.kt)("inlineCode",{parentName:"p"},"7200"),"\u79d2\u3002"),(0,t.kt)("p",null,"\u5982\u679c\u5f00\u53d1\u8005\u9ed8\u8ba4\u4e0d\u6307\u5b9a\u8fd9\u4e24\u4e2a\u5c5e\u6027\u7684\u8bdd\uff0c\u547d\u540d\u7a7a\u95f4\u9ed8\u8ba4\u503c\u662f",(0,t.kt)("inlineCode",{parentName:"p"},"spring:session"),",\u9ed8\u8ba4\u6700\u5927\u65f6\u6548\u5219\u662f",(0,t.kt)("inlineCode",{parentName:"p"},"1800"),"\u79d2"),(0,t.kt)("p",null,"\u5728\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u8bf4\u8fc7\u4e86\uff0c\u65e2\u7136\u662f\u770b\u6e90\u7801\uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u5165\u53e3\uff0c\u8fd9\u662f\u770b\u6e90\u7801\u6700\u597d\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u5728\u4f7f\u7528Spring Session\u7ec4\u4ef6\u65f6\uff0c\u9700\u8981\u4f7f\u7528",(0,t.kt)("inlineCode",{parentName:"p"},"@EnableRedisHttpSession"),"\u6ce8\u89e3\uff0c\u90a3\u4e48\u8be5\u6ce8\u89e3\u5c31\u662f\u6211\u4eec\u9700\u8981\u91cd\u70b9\u5173\u6ce8\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u9700\u8981\u641e\u6e05\u695a\uff0c\u8be5\u6ce8\u89e3\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"EnableRedisHttpSession.java"),"\u90e8\u5206\u6e90\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},"@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Documented\n@Import(RedisHttpSessionConfiguration.class)\n@Configuration(proxyBeanMethods = false)\npublic @interface EnableRedisHttpSession {\n     //more property..   \n}\n")),(0,t.kt)("p",null,"\u5728\u8be5\u6ce8\u89e3\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u6700\u5173\u952e\u7684\u662f\u5728\u8be5\u6ce8\u89e3\u4e4b\u4e0a\uff0c\u4f7f\u7528",(0,t.kt)("inlineCode",{parentName:"p"},"@Import"),"\u6ce8\u89e3\u5bfc\u5165\u4e86",(0,t.kt)("inlineCode",{parentName:"p"},"RedisHttpSessionConfiguration.java"),"\u914d\u7f6e\u7c7b\uff0c\u5982\u679c\u4f60\u7ecf\u5e38\u7ffb\u770bSpring Boot\u76f8\u5173\u7684\u6e90\u7801\uff0c\u4f60\u4f1a\u654f\u9510\u7684\u5bdf\u89c9\u5230\uff0c\u8be5\u914d\u7f6e\u7c7b\u5c31\u662f\u6211\u4eec\u6700\u7ec8\u8981\u627e\u7684\u7c7b"),(0,t.kt)("p",null,"\u5148\u6765\u770b\u8be5\u7c7b\u7684UML\u56fe\uff0c\u5982\u4e0b\uff1a"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"RedisHttpSessionConfiguration",src:i(76165).Z,width:"1281",height:"853"})),(0,t.kt)("p",null,"\u8be5\u7c7b\u5b9e\u73b0\u4e86Spring\u6846\u67b6\u4e2d\u5f88\u591a",(0,t.kt)("inlineCode",{parentName:"p"},"Aware"),"\u7c7b\u578b\u63a5\u53e3\uff0c",(0,t.kt)("inlineCode",{parentName:"p"},"Aware"),"\u7c7b\u578b\u7684\u63a5\u53e3\u6211\u4eec\u90fd\u77e5\u9053\uff0cSpring\u5bb9\u5668\u5728\u542f\u52a8\u521b\u5efa\u5b9e\u4f53Bean\u540e\uff0c\u4f1a\u8c03\u7528",(0,t.kt)("inlineCode",{parentName:"p"},"Aware"),"\u7cfb\u5217\u7684set\u65b9\u6cd5\u4f20\u53c2\u8d4b\u503c"),(0,t.kt)("p",null,"\u5f53\u7136\uff0c\u6700\u6838\u5fc3\u7684\uff0c\u6211\u4eec\u4ece\u6e90\u7801\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u662fSpring Session\u7ec4\u4ef6\u4f1a\u5411Spring\u5bb9\u5668\u4e2d\u6ce8\u5165\u4e24\u4e2a\u5b9e\u4f53",(0,t.kt)("inlineCode",{parentName:"p"},"Bean"),"\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a "),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'@Bean\npublic RedisIndexedSessionRepository sessionRepository() {\n    RedisTemplate<Object, Object> redisTemplate = createRedisTemplate();\n    RedisIndexedSessionRepository sessionRepository = new RedisIndexedSessionRepository(redisTemplate);\n    sessionRepository.setApplicationEventPublisher(this.applicationEventPublisher);\n    if (this.indexResolver != null) {\n        sessionRepository.setIndexResolver(this.indexResolver);\n    }\n    if (this.defaultRedisSerializer != null) {\n        sessionRepository.setDefaultSerializer(this.defaultRedisSerializer);\n    }\n    sessionRepository.setDefaultMaxInactiveInterval(this.maxInactiveIntervalInSeconds);\n    if (StringUtils.hasText(this.redisNamespace)) {\n        sessionRepository.setRedisKeyNamespace(this.redisNamespace);\n    }\n    sessionRepository.setFlushMode(this.flushMode);\n    sessionRepository.setSaveMode(this.saveMode);\n    int database = resolveDatabase();\n    sessionRepository.setDatabase(database);\n    this.sessionRepositoryCustomizers\n        .forEach((sessionRepositoryCustomizer) -> sessionRepositoryCustomizer.customize(sessionRepository));\n    return sessionRepository;\n}\n\n@Bean\npublic RedisMessageListenerContainer springSessionRedisMessageListenerContainer(\n    RedisIndexedSessionRepository sessionRepository) {\n    RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n    container.setConnectionFactory(this.redisConnectionFactory);\n    if (this.redisTaskExecutor != null) {\n        container.setTaskExecutor(this.redisTaskExecutor);\n    }\n    if (this.redisSubscriptionExecutor != null) {\n        container.setSubscriptionExecutor(this.redisSubscriptionExecutor);\n    }\n    container.addMessageListener(sessionRepository,\n                                 Arrays.asList(new ChannelTopic(sessionRepository.getSessionDeletedChannel()),\n                                               new ChannelTopic(sessionRepository.getSessionExpiredChannel())));\n    container.addMessageListener(sessionRepository,\n                                 Collections.singletonList(new PatternTopic(sessionRepository.getSessionCreatedChannelPrefix() + "*")));\n    return container;\n}\n')),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"RedisIndexedSessionRepository"),"\u4ee5\u53ca",(0,t.kt)("inlineCode",{parentName:"p"},"RedisMessageListenerContainer"),"\u7684\u5b9e\u4f53Bean"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"RedisMessageListenerContainer"),":\u8be5\u7c7b\u662fRedis\u7684\u6d88\u606f\u901a\u77e5\u56de\u8c03\u673a\u5236\u5b9e\u4f53\u7c7b\uff0cRedis\u63d0\u4f9b\u4e86\u9488\u5bf9\u4e0d\u540cKey\u7684\u64cd\u4f5c\u56de\u8c03\u6d88\u606f\u901a\u77e5\uff0c\u6bd4\u5982\u5e38\u89c1\u7684\u5220\u9664key\u3001key\u8fc7\u671f\u7b49\u4e8b\u4ef6\u7684\u56de\u8c03\uff0c\u5728Spring Session\u7ec4\u4ef6\u4e2d\u6ce8\u5165\u8be5\u5b9e\u4f53Bean\uff0c\u4ece\u4ee3\u7801\u4e2d\u4e5f\u53ef\u4ee5\u770b\u51fa\u662f\u7528\u6765\u76d1\u542c\u5904\u7406Session\u4f1a\u8bdd\u7684\u8fc7\u671f\u4ee5\u53ca\u5220\u9664\u4e8b\u4ef6"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"RedisIndexedSessionRepository"),":\u8be5\u7c7b\u662fSpring Session\u7ec4\u4ef6\u63d0\u4f9b\u57fa\u4e8eRedis\u7684\u9488\u5bf9Session\u4f1a\u8bdd\u4e00\u7cfb\u5217\u64cd\u4f5c\u7684\u5177\u4f53\u5b9e\u73b0\u7c7b\uff0c\u662f\u6211\u4eec\u63a5\u4e0b\u6765\u6e90\u7801\u5206\u6790\u7684\u91cd\u70b9\u3002")),(0,t.kt)("p",null,"\u5148\u6765\u770b",(0,t.kt)("inlineCode",{parentName:"p"},"RedisIndexedSessionRepository"),"\u7c7b\u7684UML\u7c7b\u56fe\u7ed3\u6784\uff0c\u5982\u4e0b\u56fe\uff1a"),(0,t.kt)("p",null,(0,t.kt)("img",{alt:"RedisIndexedSessionRepository",src:i(31450).Z,width:"724",height:"1217"})),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"RedisIndexedSessionRepository"),"\u5b9e\u73b0\u4e86",(0,t.kt)("inlineCode",{parentName:"p"},"FindByIndexNameSessionRepository"),"\u63a5\u53e3\uff0c\u800c",(0,t.kt)("inlineCode",{parentName:"p"},"FindByIndexNameSessionRepository"),"\u63a5\u53e3\u53c8\u7ee7\u627fSpring Security\u6743\u9650\u6846\u67b6\u63d0\u4f9b\u7684\u9876\u7ea7",(0,t.kt)("inlineCode",{parentName:"p"},"SessionRepository"),"\u63a5\u53e3\uff0cUML\u7c7b\u56fe\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u51e0\u4e2a\u91cd\u8981\u7684\u4fe1\u606f\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"RedisIndexedSessionRepository"),"\u62e5\u6709\u521b\u5efaSession\u4f1a\u8bdd\u3001\u9500\u6bc1\u5220\u9664Session\u4f1a\u8bdd\u7684\u80fd\u529b"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"RedisIndexedSessionRepository"),"\u7531\u4e8e\u5b9e\u73b0\u81ea",(0,t.kt)("inlineCode",{parentName:"li"},"FindByIndexNameSessionRepository"),"\u63a5\u53e3\uff0c\u800c\u8be5\u63a5\u53e3\u63d0\u4f9b\u4e86\u6839\u636e",(0,t.kt)("inlineCode",{parentName:"li"},"PrincipalName"),"\u67e5\u627eSession\u4f1a\u8bdd\u7684\u80fd\u529b"),(0,t.kt)("li",{parentName:"ul"},"\u62e5\u6709Redis\u56de\u8c03\u4e8b\u4ef6\u7684\u5904\u7406\u6d88\u606f\u80fd\u529b\uff0c\u56e0\u4e3a\u5b9e\u73b0\u4e86",(0,t.kt)("inlineCode",{parentName:"li"},"MessageListener"),"\u63a5\u53e3")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"SessionRepository"),"\u662fSpring Security\u63d0\u4f9b\u7684\u9876\u7ea7\u63a5\u53e3\uff0c\u6e90\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},"public interface SessionRepository<S extends Session> {\n\n    /**\n     * Creates a new {@link Session} that is capable of being persisted by this\n     * {@link SessionRepository}.\n     *\n     * <p>\n     * This allows optimizations and customizations in how the {@link Session} is\n     * persisted. For example, the implementation returned might keep track of the changes\n     * ensuring that only the delta needs to be persisted on a save.\n     * </p>\n     * @return a new {@link Session} that is capable of being persisted by this\n     * {@link SessionRepository}\n     */\n    S createSession();\n\n    /**\n     * Ensures the {@link Session} created by\n     * {@link org.springframework.session.SessionRepository#createSession()} is saved.\n     *\n     * <p>\n     * Some implementations may choose to save as the {@link Session} is updated by\n     * returning a {@link Session} that immediately persists any changes. In this case,\n     * this method may not actually do anything.\n     * </p>\n     * @param session the {@link Session} to save\n     */\n    void save(S session);\n\n    /**\n     * Gets the {@link Session} by the {@link Session#getId()} or null if no\n     * {@link Session} is found.\n     * @param id the {@link org.springframework.session.Session#getId()} to lookup\n     * @return the {@link Session} by the {@link Session#getId()} or null if no\n     * {@link Session} is found.\n     */\n    S findById(String id);\n\n    /**\n     * Deletes the {@link Session} with the given {@link Session#getId()} or does nothing\n     * if the {@link Session} is not found.\n     * @param id the {@link org.springframework.session.Session#getId()} to delete\n     */\n    void deleteById(String id);\n\n}\n")),(0,t.kt)("p",null,"\u8be5\u63a5\u53e3\u63d0\u4f9b\u56db\u4e2a\u65b9\u6cd5\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"createSession"),":\u521b\u5efaSession\u4f1a\u8bdd"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"save"),":\u4fdd\u5b58Session\u4f1a\u8bdd"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"findById"),":\u6839\u636e",(0,t.kt)("inlineCode",{parentName:"li"},"SessionId"),"\u67e5\u627e\u83b7\u53d6Session\u4f1a\u8bdd\u5bf9\u8c61\u4fe1\u606f"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"deleteById"),":\u6839\u636e",(0,t.kt)("inlineCode",{parentName:"li"},"SessionId"),"\u8fdb\u884c\u5220\u9664")),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"FindByIndexNameSessionRepository"),"\u6e90\u7801\u4e3b\u8981\u662f\u63d0\u4f9b\u6839\u636e\u8d26\u53f7\u540d\u79f0\u8fdb\u884c\u67e5\u8be2\u7684\u529f\u80fd\uff0c\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'public interface FindByIndexNameSessionRepository<S extends Session> extends SessionRepository<S> {\n\n    /**\n     * \u5f53\u524d\u5b58\u50a8\u7684\u7528\u6237\u540d\u524d\u7f00\uff0c\u4f7f\u7528Redis\u8fdb\u884c\u5b58\u50a8\u65f6\uff0c\u5b58\u50a8\u7684key\u503c\u662f:redisNamespace+\n     */\n    String PRINCIPAL_NAME_INDEX_NAME = FindByIndexNameSessionRepository.class.getName()\n            .concat(".PRINCIPAL_NAME_INDEX_NAME");\n\n    /**\n     * Find a {@link Map} of the session id to the {@link Session} of all sessions that\n     * contain the specified index name index value.\n     * @param indexName the name of the index (i.e.\n     * {@link FindByIndexNameSessionRepository#PRINCIPAL_NAME_INDEX_NAME})\n     * @param indexValue the value of the index to search for.\n     * @return a {@code Map} (never {@code null}) of the session id to the {@code Session}\n     * of all sessions that contain the specified index name and index value. If no\n     * results are found, an empty {@code Map} is returned.\n     */\n    Map<String, S> findByIndexNameAndIndexValue(String indexName, String indexValue);\n\n    /**\n     * Find a {@link Map} of the session id to the {@link Session} of all sessions that\n     * contain the index with the name\n     * {@link FindByIndexNameSessionRepository#PRINCIPAL_NAME_INDEX_NAME} and the\n     * specified principal name.\n     * @param principalName the principal name\n     * @return a {@code Map} (never {@code null}) of the session id to the {@code Session}\n     * of all sessions that contain the specified principal name. If no results are found,\n     * an empty {@code Map} is returned.\n     * @since 2.1.0\n     */\n    default Map<String, S> findByPrincipalName(String principalName) {\n\n        return findByIndexNameAndIndexValue(PRINCIPAL_NAME_INDEX_NAME, principalName);\n\n    }\n\n}\n')),(0,t.kt)("p",null,"\u8be5\u63a5\u53e3\u6700\u6838\u5fc3\u7684\u529f\u80fd\u662f\u63d0\u4f9b\u4e86\u6839\u636e\u7528\u6237\u540d\u67e5\u627e\u83b7\u53d6Session\u4f1a\u8bdd\u7684\u63a5\u53e3\uff0c\u8fd9\u5bf9\u6211\u4eec\u540e\u9762\u5b9e\u73b0\u8e22\u4eba\u529f\u80fd\u5f88\u6709\u5e2e\u52a9\u3002"),(0,t.kt)("p",null,"\u901a\u8fc7\u67e5\u770b",(0,t.kt)("inlineCode",{parentName:"p"},"SessionRepository"),"\u63a5\u53e3\u4ee5\u53ca",(0,t.kt)("inlineCode",{parentName:"p"},"FindByIndexNameSessionRepository"),"\u63a5\u53e3\u7684\u6e90\u7801\u6211\u4eec\u5f97\u77e5\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"Redis\u7684\u5b9e\u73b0\u6700\u7ec8\u5b9e\u73b0\u4e86\u8fd9\u4e24\u4e2a\u63a5\u53e3\uff0c\u56e0\u6b64\u83b7\u5f97\u4e86\u57fa\u4e8eRedis\u4e2d\u95f4\u4ef6\u521b\u5efa\u53ca\u9500\u6bc1Session\u4f1a\u8bdd\u7684\u80fd\u529b"),(0,t.kt)("li",{parentName:"ul"},"\u6839\u636e\u8d26\u53f7\u53bb\u67e5\u627e\u5f53\u524d\u7684\u6240\u6709\u767b\u5f55\u4f1a\u8bddSession\u7b26\u5408\u6211\u4eec\u6700\u7ec8\u9700\u8981\u670d\u52a1\u7aef\u4e3b\u52a8\u8e22\u4eba\u4e0b\u7ebf\u7684\u529f\u80fd\u9700\u6c42\u3002")),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u53ea\u9700\u8981\u5173\u6ce8",(0,t.kt)("inlineCode",{parentName:"p"},"RedisIndexedSessionRepository"),"\u7684\u5b9e\u73b0\u5373\u53ef\u3002\u9996\u5148\u6765\u770b",(0,t.kt)("inlineCode",{parentName:"p"},"findByPrincipalName"),"\u65b9\u6cd5\uff0c\u6e90\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'@Override\npublic Map<String, RedisSession> findByIndexNameAndIndexValue(String indexName, String indexValue) {\n    //\u5982\u679c\u540d\u79f0\u4e0d\u5339\u914d\uff0c\u5219\u76f4\u63a5\u53cd\u9988\u7a7a\u96c6\u5408Map\n    if (!PRINCIPAL_NAME_INDEX_NAME.equals(indexName)) {\n        return Collections.emptyMap();\n    }\n    //\u83b7\u53d6\u62fc\u88c5\u7684Key\u503c\n    String principalKey = getPrincipalKey(indexValue);\n    //\u4eceRedis\u4e2d\u83b7\u53d6\u8be5Key\u503c\u7684\u6210\u5458\u6570\n    Set<Object> sessionIds = this.sessionRedisOperations.boundSetOps(principalKey).members();\n    //\u521d\u59cb\u5316Map\u96c6\u5408\n    Map<String, RedisSession> sessions = new HashMap<>(sessionIds.size());\n    //\u5faa\u73af\u904d\u5386\n    for (Object id : sessionIds) {\n        //\u6839\u636eid\u67e5\u627eSession\u4f1a\u8bdd\n        RedisSession session = findById((String) id);\n        if (session != null) {\n            sessions.put(session.getId(), session);\n        }\n    }\n    return sessions;\n}\n\nString getPrincipalKey(String principalName) {\n    return this.namespace + "index:" + FindByIndexNameSessionRepository.PRINCIPAL_NAME_INDEX_NAME + ":"\n        + principalName;\n}\n')),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u5220\u9664Session\u4f1a\u8bdd\u7684\u65b9\u6cd5\u5b9e\u73b0\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},"@Override\npublic void deleteById(String sessionId) {\n    //\u6839\u636esessionId\u83b7\u53d6Session\u4f1a\u8bdd\n    RedisSession session = getSession(sessionId, true);\n    if (session == null) {\n        return;\n    }\n    //\u4eceRedis\u4e2d\u79fb\u9664\u6240\u6709\u5b58\u50a8\u7684\u9488\u5bf9principal\u7684key\u503c\n    cleanupPrincipalIndex(session);\n    //Redis\u4e2d\u5220\u9664SessionId\u6240\u5bf9\u5e94\u7684key\u503c\n    this.expirationPolicy.onDelete(session);\n    //\u79fb\u9664Session\u4f1a\u8bdd\u521b\u5efa\u65f6\uff0c\u5b58\u50a8\u7684\u8fc7\u671fkey\u503c\n    String expireKey = getExpiredKey(session.getId());\n    this.sessionRedisOperations.delete(expireKey);\n    //\u8bbe\u7f6e\u5f53\u524dsession\u4f1a\u8bdd\u6700\u5927\u5b58\u6d3b\u65f6\u95f4\u4e3a0\n    session.setMaxInactiveInterval(Duration.ZERO);\n    //\u6267\u884csave\u65b9\u6cd5\n    save(session);\n}\n")),(0,t.kt)("p",null,"\u4ece\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\uff0c\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86Spring Session\u7ec4\u4ef6\u5bf9\u4e8eSession\u76f8\u5173\u7684\u5904\u7406\u65b9\u6cd5\uff0c\u5176\u5b9e\u6211\u4eec\u57fa\u4e8e\u4e0a\u9762\u7684\u4e24\u4e2a\u6838\u5fc3\u65b9\u6cd5\uff0c\u6211\u4eec\u5df2\u7ecf\u83b7\u5f97\u4e86\u8e22\u4eba\u4e0b\u7ebf\u7684\u80fd\u529b\uff0c\u4f46\u662f\uff0c\u65e2\u7136",(0,t.kt)("inlineCode",{parentName:"p"},"RedisIndexedSessionRepository"),"\u5b9e\u73b0\u4e86",(0,t.kt)("inlineCode",{parentName:"p"},"MessageListener"),"\u63a5\u53e3\uff0c\u6211\u4eec\u9700\u8981\u7ee7\u7eed\u8ddf\u8e2a\u4e00\u4e0b\u8be5\u63a5\u53e3\u7684\u5177\u4f53\u5b9e\u73b0\u65b9\u6cd5\uff0c\u6211\u4eec\u76f4\u63a5\u6765\u770b",(0,t.kt)("inlineCode",{parentName:"p"},"onMessage"),"\u65b9\u6cd5\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'@Override\npublic void onMessage(Message message, byte[] pattern) {\n    byte[] messageChannel = message.getChannel();\n    byte[] messageBody = message.getBody();\n\n    String channel = new String(messageChannel);\n\n    if (channel.startsWith(this.sessionCreatedChannelPrefix)) {\n        // TODO: is this thread safe?\n        @SuppressWarnings("unchecked")\n        Map<Object, Object> loaded = (Map<Object, Object>) this.defaultSerializer.deserialize(message.getBody());\n        handleCreated(loaded, channel);\n        return;\n    }\n\n    String body = new String(messageBody);\n    if (!body.startsWith(getExpiredKeyPrefix())) {\n        return;\n    }\n\n    boolean isDeleted = channel.equals(this.sessionDeletedChannel);\n    if (isDeleted || channel.equals(this.sessionExpiredChannel)) {\n        int beginIndex = body.lastIndexOf(":") + 1;\n        int endIndex = body.length();\n        String sessionId = body.substring(beginIndex, endIndex);\n\n        RedisSession session = getSession(sessionId, true);\n\n        if (session == null) {\n            logger.warn("Unable to publish SessionDestroyedEvent for session " + sessionId);\n            return;\n        }\n\n        if (logger.isDebugEnabled()) {\n            logger.debug("Publishing SessionDestroyedEvent for session " + sessionId);\n        }\n\n        cleanupPrincipalIndex(session);\n\n        if (isDeleted) {\n            handleDeleted(session);\n        }\n        else {\n            handleExpired(session);\n        }\n    }\n}\n\nprivate void handleDeleted(RedisSession session) {\n        publishEvent(new SessionDeletedEvent(this, session));\n}\n\nprivate void handleExpired(RedisSession session) {\n    publishEvent(new SessionExpiredEvent(this, session));\n}\n\nprivate void publishEvent(ApplicationEvent event) {\n    try {\n        this.eventPublisher.publishEvent(event);\n    }\n    catch (Throwable ex) {\n        logger.error("Error publishing " + event + ".", ex);\n    }\n}\n')),(0,t.kt)("p",null,"\u5728",(0,t.kt)("inlineCode",{parentName:"p"},"onMessage"),"\u65b9\u6cd5\u4e2d\uff0c\u6700\u6838\u5fc3\u7684\u662f\u6700\u540e\u4e00\u4e2a\u5224\u65ad\uff0c\u5206\u522b\u6267\u884c",(0,t.kt)("inlineCode",{parentName:"p"},"handleDeleted"),"\u548c",(0,t.kt)("inlineCode",{parentName:"p"},"handleExpired"),"\u65b9\u6cd5\uff0c\u4ece\u6e90\u7801\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5f53\u5f53\u524dSession\u4f1a\u8bdd\u88ab\u5220\u9664\u6216\u8005\u5931\u6548\u65f6\uff0cSpring Session\u4f1a\u901a\u8fc7",(0,t.kt)("inlineCode",{parentName:"p"},"ApplicationEventPublisher"),"\u5e7f\u64ad\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u5206\u522b\u5904\u7406",(0,t.kt)("inlineCode",{parentName:"p"},"SessionExpiredEvent"),"\u548c",(0,t.kt)("inlineCode",{parentName:"p"},"SessionDeletedEvent"),"\u4e8b\u4ef6"),(0,t.kt)("p",null,"\u8fd9\u662fSpring Session\u7ec4\u4ef6\u4e3a\u5f00\u53d1\u8005\u9884\u7559\u7684\u9488\u5bf9Session\u4f1a\u8bdd\u7684Event\u4e8b\u4ef6\uff0c\u5982\u679c\u5f00\u53d1\u8005\u5bf9\u4e8e\u5f53\u524d\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"Sesssion"),"\u4f1a\u8bdd\u7684\u5220\u9664\u6216\u8005\u5931\u6548\u6709\u7279\u6b8a\u7684\u5904\u7406\u9700\u6c42\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u76d1\u542c\u8be5\u4e8b\u4ef6\u8fdb\u884c\u5904\u7406\u3002"),(0,t.kt)("p",null,"\u4f8b\u5982\uff0c\u5f00\u53d1\u8005\u9488\u5bf9Session\u4f1a\u8bdd\u7684\u64cd\u4f5c\u90fd\u9700\u8981\u505a\u4e1a\u52a1\u64cd\u4f5c\uff0c\u8bb0\u5f55\u65e5\u5fd7\u4fdd\u5b58\u5230DB\u6570\u636e\u5e93\u4e2d\uff0c\u6b64\u65f6\uff0c\u5f00\u53d1\u8005\u53ea\u9700\u8981\u4f7f\u7528Spring\u63d0\u4f9b\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"EventListener"),"\u5b9e\u73b0\u5c31\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u5b9e\u73b0\uff0c\u793a\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},"@Component\npublic class SecuritySessionEventListener {\n\n    @EventListener\n    public void sessionDestroyed(SessionDestroyedEvent event) {\n        //session\u9500\u6bc1\u4e8b\u4ef6\u5904\u7406\u65b9\u6cd5...\n    }\n\n    @EventListener\n    public void sessionCreated(SessionCreatedEvent event) {\n        //session\u521b\u5efa\u4f1a\u8bdd\u4e8b\u4ef6\u5904\u7406\u65b9\u6cd5...\n    }\n\n    @EventListener\n    public void sessionExired(SessionExpiredEvent event) {\n        //session\u4f1a\u8bdd\u8fc7\u671f\u4e8b\u4ef6\u5904\u7406\u65b9\u6cd5...\n    }\n}\n")),(0,t.kt)("h2",{id:"4\u89e3\u51b3\u65b9\u6848"},"4.\u89e3\u51b3\u65b9\u6848"),(0,t.kt)("p",null,"\u6211\u4eec\u5206\u6790\u4e86Spring Session\u9488\u5bf9Session\u57fa\u4e8eRedis\u7684\u5b9e\u73b0\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4ece\u6e90\u7801\u4e2d\u5df2\u7ecf\u77e5\u9053\u4e86\u8be5\u5982\u4f55\u67e5\u627eSession\u4f1a\u8bdd\u4ee5\u53ca\u9500\u6bc1\u4f1a\u8bdd\u7684\u65b9\u6cd5\uff0c\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u6765\u6539\u9020\u6211\u4eec\u7684\u6846\u67b6\u4ee3\u7801\u4e86"),(0,t.kt)("p",null,"\u521b\u5efa",(0,t.kt)("inlineCode",{parentName:"p"},"SessionService"),"\u63a5\u53e3\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},"public interface SessionService {\n\n    /**\n     *\n     * @param account\n     * @return\n     */\n    boolean hasLogin(String account);\n\n    /**\n     * \u6839\u64da\u8d26\u53f7\u67e5\u627e\u5f53\u524dsession\u4f1a\u8bdd\n     * @param account \u8d26\u53f7\n     * @return\n     */\n    Map<String, ? extends Session> loadByAccount(String account);\n\n    /**\n     * \u9500\u6bc1\u5f53\u524dsession\u4f1a\u8bdd\n     * @param account\n     */\n    void destroySession(String account);\n}\n")),(0,t.kt)("p",null,"\u58f0\u660e\u8be5\u63a5\u53e3\u4e3b\u8981\u5305\u542b3\u4e2a\u65b9\u6cd5\uff1a"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"hasLogin:\u901a\u8fc7\u4f20\u9012\u767b\u5f55\u8d26\u53f7\uff0c\u5224\u65ad\u8be5\u8d26\u53f7\u662f\u5426\u5df2\u7ecf\u767b\u5f55\u8fc7\uff0c\u8be5\u65b9\u6cd5\u662f\u4e00\u4e2a\u4e1a\u52a1\u7684\u5ef6\u4f38\uff0c\u6bd4\u5982\u6211\u4eec\u5bf9\u5f53\u524d\u8d26\u53f7\u5224\u65ad\u662f\u5426\u5df2\u7ecf\u767b\u5f55\u8fc7\uff0c\u5982\u679c\u767b\u5f55\u5219\u63d0\u793a\u9700\u8981\u9000\u51fa\u624d\u80fd\u7ee7\u7eed\u767b\u5f55\u7684\u64cd\u4f5c\u7b49"),(0,t.kt)("li",{parentName:"ul"},"loadByAccount:\u6839\u636e\u767b\u5f55\u8d26\u53f7\u83b7\u53d6\u5f53\u524d\u5df2\u7ecf\u767b\u5f55\u7684Session\u4f1a\u8bddMap\u96c6\u5408"),(0,t.kt)("li",{parentName:"ul"},"destroySession:\u6839\u636e\u767b\u5f55\u8d26\u53f7\u9500\u6bc1\u5f53\u524d\u6240\u6709\u8be5\u8d26\u53f7\u7684Session\u4f1a\u8bdd\u4fe1\u606f\uff0c\u6b64\u63a5\u53e3\u548c\u4ea7\u54c1\u7ecf\u7406\u8981\u6c42\u7684\u8e22\u4eba\u4e0b\u7ebf\u64cd\u4f5c\u4e00\u81f4")),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\u5c31\u662f\u5b9e\u73b0\u7c7b\uff0c\u7531\u4e8e\u6211\u4eec\u662f\u57fa\u4e8eRedis\u6765\u5904\u7406\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u9700\u8981\u5c06\u6e90\u7801\u5206\u6790\u4e2d\u7684",(0,t.kt)("inlineCode",{parentName:"p"},"RedisIndexedSessionRepository"),"\u5b9e\u4f53Bean\u8fdb\u884c\u5f15\u5165\uff0c\u501f\u52a9\u8be5\u7c7b\u5b9e\u73b0\u8be5\u63a5\u53e3\u65b9\u6cd5"),(0,t.kt)("p",null,(0,t.kt)("inlineCode",{parentName:"p"},"RedisSessionService"),"\u65b9\u6cd5\u5b9e\u73b0\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * SpringSession\u96c6\u6210\u5e95\u5c42Redis\u5b9e\u73b0\uff0c\u5982\u679c\u5e95\u5c42\u5206\u5e03\u5f0f\u4f1a\u8bdd\u4fdd\u6301\u65b9\u5f0f\u4e0d\u662f\u57fa\u4e8eRedis,\u5219\u8be5\u7c7b\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\n * @author <a href="mailto:xiaoymin@foxmail.com">xiaoymin@foxmail.com</a>\n * 2021/04/20 16:23\n * @since:fish 1.0\n */\npublic class RedisSessionService implements SessionService {\n\n    Logger logger= LoggerFactory.getLogger(RedisSessionService.class);\n\n    final RedisIndexedSessionRepository redisIndexedSessionRepository;\n\n    final ApplicationEventPublisher applicationEventPublisher;\n\n    public RedisSessionService(RedisIndexedSessionRepository redisIndexedSessionRepository, ApplicationEventPublisher applicationEventPublisher) {\n        this.redisIndexedSessionRepository = redisIndexedSessionRepository;\n        this.applicationEventPublisher = applicationEventPublisher;\n    }\n\n\n    @Override\n    public boolean hasLogin(String account) {\n        return CollectionUtil.isNotEmpty(loadByAccount(account));\n    }\n\n    @Override\n    public Map<String, ? extends Session> loadByAccount(String account) {\n        logger.info("\u6536\u96c6\u5f53\u524d\u767b\u5f55\u4f1a\u8bddsession\uff0c\u8d26\u53f7:{}",account);\n        return redisIndexedSessionRepository.findByIndexNameAndIndexValue(FindByIndexNameSessionRepository.PRINCIPAL_NAME_INDEX_NAME,account);\n    }\n\n    @Override\n    public void destroySession(String account) {\n        logger.info("\u9500\u6bc1\u5f53\u524d\u767b\u5f55session\u4f1a\u8bdd,\u8d26\u53f7\uff1a{}",account);\n        Map<String,? extends Session> sessionMap=loadByAccount(account);\n        if (CollectionUtil.isNotEmpty(sessionMap)){\n            logger.info("\u5f53\u524d\u767b\u5f55\u4f1a\u8bddsize:{}",sessionMap.size());\n            for (Map.Entry<String,? extends Session> sessionEntry:sessionMap.entrySet()){\n                String key=sessionEntry.getKey();\n                Session session=sessionEntry.getValue();\n                logger.info("destroy session key:{}",key);\n                //\u5220\u9664\n                redisIndexedSessionRepository.deleteById(session.getId());\n                //\u5e7f\u64adSession\u4f1a\u8bdd\u9500\u6bc1\u4e8b\u4ef6\n                applicationEventPublisher.publishEvent(new SessionDestroyedEvent(redisIndexedSessionRepository,session));\n            }\n        }\n    }\n}\n\n')),(0,t.kt)("p",null,"\u5728",(0,t.kt)("inlineCode",{parentName:"p"},"destroySession"),"\u65b9\u6cd5\u5b9e\u73b0\u4e2d\uff0c\u9996\u5148\u6839\u636e\u8d26\u53f7\u83b7\u53d6\u5f53\u524d\u6240\u6709\u767b\u5f55\u4f1a\u8bdd\u4fe1\u606f\uff0c\u5982\u679c\u4f1a\u8bdd\u4e0d\u4e3a\u7a7a\uff0c\u5219\u904d\u5386\u4f1a\u8bddMap\u96c6\u5408\uff0c\u6267\u884c\u5220\u9664\u4f1a\u8bdd\u64cd\u4f5c\uff0c\u5e76\u4e14\u901a\u8fc7",(0,t.kt)("inlineCode",{parentName:"p"},"applicationEventPublisher"),"\u5e7f\u64ad\u4e00\u4e2a\u4f1a\u8bdd\u88ab\u9500\u6bc1\u7684\u4e8b\u4ef6\u3002\u8be5\u5e7f\u64ad\u4e8b\u4ef6\u975e\u5fc5\u987b\uff0c\u4f46\u662f\u4ece\u4ee3\u7801\u7684\u5168\u5c40\u8fdb\u884c\u8003\u8651\uff0c\u8fd8\u662f\u9700\u8981\u52a0\u4e0a"),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u8be5\u7c7b\u6ce8\u5165\u5230Spring\u7684\u5bb9\u5668\u4e2d\u7684\uff0c\u6ce8\u5165\u5b9e\u4f53Bean\u4ee3\u7801\u5982\u4e0b\uff1a"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},"@Bean\npublic RedisSessionService sessionService(RedisIndexedSessionRepository redisIndexedSessionRepository, ApplicationEventPublisher applicationEventPublisher){\n    return new RedisSessionService(redisIndexedSessionRepository,applicationEventPublisher);\n}\n")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},(0,t.kt)("strong",{parentName:"p"},"PS:"),"\u6211\u4eec\u4e3a\u4ec0\u4e48\u9700\u8981\u521b\u5efa\u63a5\u53e3\u800c\u4e0d\u662f\u76f4\u63a5\u521b\u5efaclass\u7684\u65b9\u5f0f\u901a\u8fc7",(0,t.kt)("inlineCode",{parentName:"p"},"@Service"),"\u7b49\u6ce8\u89e3\u8fdb\u884c\u6ce8\u5165\uff0c\u800c\u662f\u901a\u8fc7\u62bd\u8c61\u63a5\u53e3\u5b9e\u73b0\u7c7b\u7684\u65b9\u5f0f\uff0c\u6700\u7ec8\u901a\u8fc7JavaConfig\u7684\u65b9\u5f0f\u8fdb\u884c\u6ce8\u5165\u5462\uff1f\u4ece\u4ee3\u7801\u7684\u8026\u5408\u5ea6\u4e0a\u6765\u770b\uff0c\u7531\u4e8eSpring Session\u63d0\u4f9b\u5904\u7406\u57fa\u4e8eRedis\u7684\u80fd\u529b\u5904\u7406Session\u4f1a\u8bdd\u4e4b\u5916\uff0c\u8fd8\u63d0\u4f9b\u4e86\u8bf8\u5982JDBC\\mongo\u7b49\u591a\u5143\u5316\u7684\u6269\u5c55\u65b9\u5f0f\uff0c\u56e0\u6b64\uff0c\u4e3a\u4e86\u4ee3\u7801\u89e3\u8026\uff0c\u901a\u8fc7\u62bd\u8c61\u63a5\u53e3\u7684\u65b9\u5f0f\u662f\u66f4\u5408\u7406\u7684\u3002")),(0,t.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5728\u6211\u4eec\u7684\u7528\u6237\u7ba1\u7406\u7684\u4e1a\u52a1Service\u65b9\u6cd5\u4e2d\u5c31\u53ef\u4ee5\u8fdb\u884c\u64cd\u4f5c\u4e86"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u5220\u9664\u7528\u6237\u7684\u4e1a\u52a1Service\u65b9\u6cd5")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-java"},'/**\n* \u6839\u636e\u4e3b\u952eid\u5220\u9664\u7528\u6237\u7ba1\u7406\n* @param id \u4e3b\u952eid\n* @return \u662f\u5426\u5220\u9664\u6210\u529f\n*/\n@Override\npublic RestfulMessage<String> delete(Integer id) {\n    logger.info("\u6839\u636e\u4e3b\u952eid\u5220\u9664\u7528\u6237\u7ba1\u7406,id:{}",id);\n    FishUserInfo fishUserInfo=fishUserInfoMapper.selectByPrimaryKey(id);\n    assertArgumentNotEmpty(fishUserInfo,"\u8bf7\u6c42\u6570\u636e\u975e\u6cd5");\n    int ret=fishUserInfoMapper.deleteByPrimaryKey(id);\n    //\u5220\u9664\u6210\u529f\uff0c\u5982\u679c\u8be5\u89d2\u8272\u5728\u7ebf\uff0c\u5219\u5f3a\u5236\u5254\u9664\u4e0b\u7ebf\n    if (ret>0){\n        logger.info("\u7528\u6237\u4f1a\u8bdd\u5254\u9664\u4e0b\u7ebf");\n        sessionService.destroySession(fishUserInfo.getAccount());\n    }\n    return ret>0?RestfulMessage.success("\u5220\u9664\u6210\u529f"):RestfulMessage.error("\u5220\u9664\u5931\u8d25");\n}\n')),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"\u7981\u7528\u7528\u6237")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"\u7981\u7528\u7528\u6237\u5176\u5b9e\u64cd\u4f5c\u65b9\u6cd5\u548c\u5220\u9664\u4e00\u6837\uff0c\u533a\u522b\u5728\u4e8e\u7981\u7528\u64cd\u4f5c\u53ea\u662f\u5c06\u7528\u6237\u5728\u6570\u636e\u5e93\u4e2d\u7684\u72b6\u6001\u8fdb\u884c\u53d8\u66f4\uff0c\u800c\u5220\u9664\u5219\u662f\u5c06\u8be5\u7528\u6237\u7684\u6570\u636e\u4ece\u6570\u636e\u5e93DB\u4e2d\u8fdb\u884c\u5220\u9664\u3002\u66f4\u65b0\u5e93\u7684\u7528\u6237\u72b6\u6001\u540e\uff0c\u8c03\u7528destroySession\u5220\u9664\u8be5\u8d26\u53f7\u7684\u6240\u6709Session\u4f1a\u8bdd\u64cd\u4f5c\u5373\u53ef")))}c.isMDXComponent=!0},76165:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/RedisHttpSessionConfiguration-21839089b2de60d19df1711e6a40303f.png"},31450:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/RedisIndexedSessionRepository-077a1211e219c5c518c8a43306522126.png"}}]);