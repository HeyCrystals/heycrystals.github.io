<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-blog docs-doc-id-springboot/2020-12-10-spring-boot-self-starter">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Spring Boot自定义starter必知必会条件 | 八一菜刀</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.xiaominfo.com/blog/springboot/2020-12-10-spring-boot-self-starter"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-blog-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-blog-current"><meta data-rh="true" property="og:title" content="Spring Boot自定义starter必知必会条件 | 八一菜刀"><meta data-rh="true" name="description" content="自定义Spring Boot框架starter组件"><meta data-rh="true" property="og:description" content="自定义Spring Boot框架starter组件"><meta data-rh="true" name="keywords" content="Spring Boot starter,Spring Boot自定义starter"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.xiaominfo.com/blog/springboot/2020-12-10-spring-boot-self-starter"><link data-rh="true" rel="alternate" href="https://www.xiaominfo.com/blog/springboot/2020-12-10-spring-boot-self-starter" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://www.xiaominfo.com/blog/springboot/2020-12-10-spring-boot-self-starter" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EL1II9W21O-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-MHMEL0F832","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MHMEL0F832"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MHMEL0F832",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="八一菜刀" href="/opensearch.xml">





<script async defer="defer" data-website-id="23232" src="https://www.baidu.com"></script>
<script src="/js/baidu.js"></script>
<script src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1589206801610969" async crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.31f948a3.css">
<link rel="preload" href="/assets/js/runtime~main.1ba6c6ba.js" as="script">
<link rel="preload" href="/assets/js/main.2fcd73bd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">🔪 八一菜刀</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">🎄 Blog</a><a class="navbar__item navbar__link" href="/opensource">🎄 开源</a><a class="navbar__item navbar__link" href="/chatgpt">🤖 ChatGPT</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">👨‍💻 MidJourney</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/getting-started">基础入门</a></li></ul></div><a class="navbar__item navbar__link" href="/langchain">🚴🏻‍♀️ langchain</a><a class="navbar__item navbar__link" href="/about">🚴🏻‍♀️ 关于</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><b>🔪 八一菜刀</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/blog/">个人博客</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/database/2016-10-12-mariadb-galera-startup">database</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/javascript/js-closure">javascript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/kettle/2019-08-08-kettle-1">kettle</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/linux/2016-11-08-deploy-standard-linux">linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/mybatis/2019-05-10-mybatis-toc">mybatis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/operate/2016-11-15-nginx-front-intruduce">operate</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/redis/2020-11-29-redis-1">redis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/blog/springboot/2015-09-13-spring-mvc-jsonp-open">springboot</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/springboot/2015-09-13-spring-mvc-jsonp-open">个人开源作品：Spring MVC 关于jsonp跨域处理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/springboot/2020-09-23-spring-boot-conditional">Spring Boot框架中如何优雅的注入实体Bean</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/blog/springboot/2020-12-10-spring-boot-self-starter">Spring Boot自定义starter必知必会条件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/springboot/2021-02-03-spring-boot-servlet-gateway-compoents">基于Servlet体系的HTTP请求代理转发Spring Boot组件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/springboot/2021-03-03-spring-boot-common-file-download">Spring Boot框架中针对数据文件模板的下载总结</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/springboot/2021-03-26-spring-boot-code-action-jackson">Spring Boot框架中使用Jackson的处理总结</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/blog/springboot/2021-04-20-spring-security-out-session">Spring Security框架中踢人下线技术探索</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/springfox/2019-05-20-springfox-0">springfox</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/blog/workflow/2018-01-11-workflow-choose">workflow</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Spring Boot自定义starter必知必会条件</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="前言">前言<a href="#前言" class="hash-link" aria-label="前言的直接链接" title="前言的直接链接">​</a></h2><p>在目前的Spring Boot框架中,不管是Spring Boot官方还是非官方,都提供了非常多的starter系列组件,助力开发者在企业应用中的开发,提升研发人员的工作效率,Spring Boot框架提出的约定大于配置的规则，确实帮助开发者简化了以前Spring MVC时代的很多繁杂的配置。让开发者用起来也是非常爽的。</p><p>尽管Spring Boot或者一些开源组件已经帮助我们提供了非常多的starter组件，在满足日常的开发中,已经完全没有问题了。但有时候因为需求的可变性，导致企业架构也会随着调整，那么在Spring Boot框架中，官方或开源的第三方starter肯定不能满足企业内部研发人员的要求，这时候就需要开发者自定义企业内部的starter了。</p><p>企业或个人自定义Spring Boot的starter组件主要从哪些方面来入手呢，或者什么时候需要自定义starter组件？我个人认为主要有以下几个方面：</p><ul><li>规范企业内部编码流程，统一各个技术中间件的代码规范</li><li>减少不同类型中间件的使用成本，提升研发人员的研发工作效率</li><li>减少冗余代码的使用，统一封装，统一管理。</li><li>屏蔽中间件底层细节，暴露配置属性及方法，减少学习使用成本</li><li>可能还有更多？</li></ul><p>本篇博客结合自身的开发经验以及目前Spring Boot如何配置元数据的官方介绍文档进行结合，进行综合阐述。</p><p>Spring Boot官方元数据文档地址：<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html" target="_blank" rel="noopener noreferrer">https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html</a></p><p>封装Spring Boot的starter范围可以是一组规范的业务方法，也可以是通用的中间件底层。开发者通过封装，一定程度上也能起到规范企业编码的作用,同时也能组合复用公共业务逻辑。</p><p>那么我们在自定义Spring Boot框架的starter组件时,我们需要准备什么呢？</p><p>我认为主要包含以下几个方面：</p><ul><li>自定义starter的作用</li><li>命名规范</li><li>理解Maven或者Gradle依赖包管理的jar包引用传递机制</li><li>理解Spring Boot框架中基于Java代码的Configuration配置</li><li>理解Spring Boot框架自动装载的过程</li><li>学会利用Spring Boot提供的<code>@Conditional</code>系列条件注入充分发挥Spring Boot的优点</li><li>学会如何配置自定义starter组件时对外的属性注释配置，可以参考<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html" target="_blank" rel="noopener noreferrer">官方文档</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="自定义starter的作用">自定义starter的作用<a href="#自定义starter的作用" class="hash-link" aria-label="自定义starter的作用的直接链接" title="自定义starter的作用的直接链接">​</a></h2><p>我们在自定义starter组件之前，开发者首先需要想清楚，这个starter组件能带来什么，简化开发？或者复用组件的封装供其他同事使用，不写重复代码等等，这些都是需要思考清楚的。</p><p>自定义starter的场景很多，例如：</p><ul><li>项目中发送短信对接了不同的云服务商，那么可以封装一个短信的starter，屏蔽对接的细节，开发者只需要配置相应的厂商配置信息就可以使用该服务商发送短信了</li><li>OSS存储对接不同的云服务商，例如阿里云、七牛云、腾讯云等等</li><li>企业内部中间件封装使用，简化开发配置</li><li>more...</li></ul><p>根据笔者的经验,我认为自定义的starter的作用无外乎以下几个方面：</p><ul><li>充分利用Spring的特性，容器/依赖注入特性，将核心的类组件注入容器中,方便开发者通过注入直接获取拿来使用</li><li>通过属性初始化中间件的流程，屏蔽具体的细节</li><li>....</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="starter命名规范">starter命名规范<a href="#starter命名规范" class="hash-link" aria-label="starter命名规范的直接链接" title="starter命名规范的直接链接">​</a></h2><p>根据Spring Boot的官方要求，如果是开发者指定第三方的starter组件，那么命名规范是<code>yourname-spring-boot-starter</code></p><p>拿<a href="https://xiaoym.gitee.io/knife4j/" target="_blank" rel="noopener noreferrer">Knife4j</a>举例说明如下：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">com.github.xiaoymin</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">knife4j-spring-boot-starter</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!--在引用时请在maven中央仓库搜索2.X最新版本号--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.0.8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>而Spring Boot官方维护发布的starter名称规范则是：<code>spring-boot-starter-name</code></p><p>例如我们引用最多的web组件，引用maven配置如下：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-starter-web</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="jar包引用传递依赖机制">jar包引用传递依赖机制<a href="#jar包引用传递依赖机制" class="hash-link" aria-label="jar包引用传递依赖机制的直接链接" title="jar包引用传递依赖机制的直接链接">​</a></h2><p>这是自定义封装Spring Boot的starter的前提条件，Gradle笔者并未使用过，这里仅以Maven为例进行阐述说明！</p><p>通常我们在封装一个SDK的jar包时，该jar包可能需要引用到第三方的jar包作为依赖包来辅助我们完成对该jar包的封装，但是我们在引用的时候是有讲究的。</p><p>针对Spring Boot的自定义starter说到底也是一个jar包，既然是jar包必然会用到第三方的jar(ps:全部都是你写的代码除外)，那么我们应该如何明确在starter中的jar包的依赖传递，我认为主要有以下方面：</p><ul><li>作为第三方组件使用jar包时，明确第三方组件的版本</li><li>作为编译期间的包，需要修改默认的scope范围值，仅仅在编译期间生效，最终打包后引用不传递</li><li>自定义封装starter必须引用Spring Boot官方提供的</li></ul><p>在定义Spring Boot的第三方starter时，主要用到Maven管理jar包中的两种依赖隔离方式(均可以使用)，分别如下：</p><ul><li>明确使用<code>&lt;optional&gt;true&gt;&lt;/optional&gt;</code>属性来强指定jar包不传递</li><li>使用<code>&lt;scope&gt;provided&lt;/scope&gt;</code>仅仅在编译期间有效，jar包依赖性不传递</li></ul><p>一般我们在自定义Spring Boot的starter组件时，都需要引用Spring Boot提供给开发者的依赖包，如下：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-autoconfigure</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.3.0.RELEASE</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">provided</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">scope</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当然，你也可以使用<code>optional</code>模式，如下：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-autoconfigure</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.3.0.RELEASE</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">optional</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">optional</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="java代码方式的configuration">Java代码方式的Configuration<a href="#java代码方式的configuration" class="hash-link" aria-label="Java代码方式的Configuration的直接链接" title="Java代码方式的Configuration的直接链接">​</a></h2><p>基于Java编码的方式配置Spring的Bean已经成了目前的主流，这主要也是得益于Spring Boot框架的流行！</p><p>在Spring MVC框架流行的时候，开发人员一般都是通过配置XML文件来注入实体Bean的</p><p>而通过java编码的方式注入Bean的前提是<code>@Configuration</code>注解加在一个配置Java实体类上即可，示例如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyAutoConfiguration</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//do others...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="spring-boot框架的自动装载">Spring Boot框架的自动装载<a href="#spring-boot框架的自动装载" class="hash-link" aria-label="Spring Boot框架的自动装载的直接链接" title="Spring Boot框架的自动装载的直接链接">​</a></h2><p>对于Spring Boot框架自定义的starter组件来说，提供的使用方式而言，我认为目前主要有3种方式，这个主要看封装starter组件的作者如何开放来定</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="手工import导入">手工<code>@Import</code>导入<a href="#手工import导入" class="hash-link" aria-label="手工import导入的直接链接" title="手工import导入的直接链接">​</a></h3><p>第一种情况：使用者使用<code>@Import</code>注解将封装的starter组件的Java编码Configuration配置文件进行导入</p><p>假设目前封装的一个简单的Configuration配置如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoAuthConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Bean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">DemoClient</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">demoClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">DemoClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>开发者通过<code>DemoAutoConfiguration.java</code>向Spring的容器中注入了一个<code>DemoClient</code>的实体Bean,由于隶属于不同的package包路径，自定义的starter组件包路径是：<code>com.demo.spring</code></p><p>而开发者的项目主目录包路径是：<code>com.test</code>,所以Spring Boot框架默认是不会加载该配置的，此时，如果开发者要在Spring的容器中获取<code>DemoClient</code>的实体Bean应该怎么办呢？使用者应该在自己的主配置中使用<code>@Import</code>注解将该配置导入进来交给Spring容器初始化时进行创建，示例如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Import</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">DemoAutoConfiguration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@SpringBootApplication</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoDemoApplication</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">SpringApplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">DemoDemoApplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="提供便于记忆的注解enablexxx">提供便于记忆的注解<code>@EnableXXX</code><a href="#提供便于记忆的注解enablexxx" class="hash-link" aria-label="提供便于记忆的注解enablexxx的直接链接" title="提供便于记忆的注解enablexxx的直接链接">​</a></h3><p><code>@Enablexxx</code>系列注解相信开发者并不陌生，比如我们要使用Spring Boot的定时任务功能，我们会在启动入口引入<code>@EnableScheduling</code>注解，我们使用Springfox的Swagger组件，我们会引入<code>@EnableSwagger2</code>注解</p><p>其实这种方式只是为了让开发者能够更加方便的记忆，一个<code>@Enablexxx</code>系列注解，其所代表的功能特点也基本符合该starter组件，是在上面手工通过<code>@Import</code>注解的升级版本。</p><p>毕竟<code>Enable</code>单词所代表的含义是<strong>启用</strong>,这有利于开发者记忆</p><p>继续通过上面第一种的示例进行改在，此时，我们可以提供<code>@EnableDemoClient</code>注解，代码示例如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Documented</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@Retention</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">RUNTIME</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@Target</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">ElementType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TYPE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@Import</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">DemoAutoConfiguration</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#393A34">@interface</span><span class="token plain"> </span><span class="token class-name">EnableDemoClient</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>大家应该也看到了，我们在该<code>@EnableDemoClient</code>注解中，使用了<code>@Import</code>注解的方式导入了<code>DemoAutoConfiguration</code>配置</p><p>此时，我们在项目中可以使用<code>@EnableDemoClient</code>注解了，代码示例如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@EnableDemoClient</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@SpringBootApplication</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoDemoApplication</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">SpringApplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">DemoDemoApplication</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当然，<code>@Enable</code>这种注解作用不仅仅局限于此，还可以在该注解上定义外部的配置属性，通过配置该注解的方式达到最终初始化的目的。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="自动装载">自动装载<a href="#自动装载" class="hash-link" aria-label="自动装载的直接链接" title="自动装载的直接链接">​</a></h3><p>自动装载是Spring Boot的一重大特点，开发者通过配置文件的方式即可默认加载第三方的starter配置，非常的方便，是上面两种方式的升级版</p><p>在之前的基础上，如果开发者希望在Maven的pom.xml工程中引入了该组件，就可以使用<code>DemoClient</code>类，那么此时我们应该怎么做呢？</p><p>我们需要在工程中创建<code>spring.factories</code>文件，文件目录：<code>src/resources/META-INF/spring.factories</code></p><p>在<code>spring.factories</code>文件中,配置开发者自定义的configuration类，如下：</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">org.springframework.boot.autoconfigure.EnableAutoConfiguration=com.demo.spring.DemoAutoConfiguration</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>配置好后，此时再打包我们自定义的starter组件，Spring Boot框架默认会自动装载该配置类，我们在业务代码中也就可以直接使用了</p><p>我们可以在<code>SpringApplication.java</code>源码中看到Spring Boot初始化获取该类列表的过程</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token class-name">Collection</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getSpringFactoriesInstances</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Class</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Class</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics operator" style="color:#393A34">?</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> parameterTypes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">ClassLoader</span><span class="token plain"> classLoader </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getClassLoader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Use names and ensure unique to protect against duplicates</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Set</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> names </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LinkedHashSet</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">SpringFactoriesLoader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">loadFactoryNames</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">T</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> instances </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createSpringFactoriesInstances</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> parameterTypes</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> names</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">AnnotationAwareOrderComparator</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sort</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">instances</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> instances</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>上述方法中的<code>SpringFactoriesLoader.loadFactoryNames</code>方法如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">loadFactoryNames</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Class</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics operator" style="color:#393A34">?</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> factoryType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:#393A34">@Nullable</span><span class="token plain"> </span><span class="token class-name">ClassLoader</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> factoryTypeName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> factoryType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">loadSpringFactories</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">classLoader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getOrDefault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">factoryTypeName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">Collections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">emptyList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">List</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">loadSpringFactories</span><span class="token punctuation" style="color:#393A34">(</span><span class="token annotation punctuation" style="color:#393A34">@Nullable</span><span class="token plain"> </span><span class="token class-name">ClassLoader</span><span class="token plain"> classLoader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">MultiValueMap</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cache</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">classLoader</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//加载META-INF/spring.factories配置，创建MultiValueMap集合放到该集合中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">Enumeration</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics">URL</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> urls </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">classLoader </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 classLoader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getResources</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">FACTORIES_RESOURCE_LOCATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                 </span><span class="token class-name">ClassLoader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getSystemResources</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">FACTORIES_RESOURCE_LOCATION</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">LinkedMultiValueMap</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">urls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">hasMoreElements</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">URL</span><span class="token plain"> url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> urls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">nextElement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">UrlResource</span><span class="token plain"> resource </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">UrlResource</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token class-name">Properties</span><span class="token plain"> properties </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token class-name">PropertiesLoaderUtils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">loadProperties</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">Map</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Entry</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics operator" style="color:#393A34">?</span><span class="token generics punctuation" style="color:#393A34">,</span><span class="token generics"> </span><span class="token generics operator" style="color:#393A34">?</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> entry </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> properties</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">entrySet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">String</span><span class="token plain"> factoryTypeName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> factoryImplementationName </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">StringUtils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">commaDelimitedListToStringArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">factoryTypeName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> factoryImplementationName</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">trim</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cache</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">classLoader</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">IOException</span><span class="token plain"> ex</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">IllegalArgumentException</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Unable to load factories from location [&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                           </span><span class="token constant" style="color:#36acaa">FACTORIES_RESOURCE_LOCATION</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;]&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ex</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="充分利用spring-boot提供的conditional条件注入组件">充分利用Spring Boot提供的<code>@Conditional</code>条件注入组件<a href="#充分利用spring-boot提供的conditional条件注入组件" class="hash-link" aria-label="充分利用spring-boot提供的conditional条件注入组件的直接链接" title="充分利用spring-boot提供的conditional条件注入组件的直接链接">​</a></h2><p>通过上面的文章介绍，为Spring Boot框架制定一个简单的starter组件相信已经不在话下。但是，这才仅仅开始而已。</p><p>在上面介绍的自动装载过程中，开发者是否会存在疑问？</p><blockquote><p>当我们在pom.xml引入我们自定义的starter组件后,Spring Boot框架默认会将该组件直接注入到Spring的容器中，这种方式虽然在使用上并没有什么问题，但当我们封装给第三方使用时,这种方式往往会存在冲突，假设开发者自定义的starter组件中包含了向容器中注入Filter等过滤器,那么该过滤器直接生效,会全范围影响整个应用程序.这在实际开发中是不允许的！</p><p>那么应该怎么办呢?此时，我们就需要充分利用Spring Boot框架为开发者提供的<code>@Conditional</code>系列条件注入了</p></blockquote><p>条件注入顾名思义,就是只有使用者满足了组件规定的条件时，组件才会向Spring容器中进行注入Bean或者初始化的操作.这种方式也是将选择权直接交给使用者进行选择，减少非必要的组件冲突，是在Spring Boot自定义starter组件中必不可少的一环。</p><p>条件注入通常也配合属性类一起来进行使用,提供配置属性选项也是方便使用者在Spring Boot的配置文件<code>application.yml</code>或者<code>application.properties</code>进行配置开启操作，例如我们常见的配置操作如下：</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">server</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18568</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">servlet</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">context-path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>为Spring Boot的程序指定启动端口号和<code>context-path</code>属性.</p><p>我们继续以上面示例中的<code>DemoClient</code>为例进行阐述</p><blockquote><p>假设我们的<code>DemoClient</code>是对接外部API接口的封装组件，该组件规定访问外部API时需要提供<code>appid</code>和<code>secret</code>,根据appid及secret获取token，最后根据token才能调用API获取接口数据，</p></blockquote><p>那么,此时，我们的<code>DemoClient</code>的部分模拟接口代码可能会如下面示例：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoClient</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> appid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">DemoClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">String</span><span class="token plain"> appid</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">appid </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> appid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">secret </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * 获取资源</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * @return</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">listResources</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//获取token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> token</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">getToken</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//根据Token请求数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">UUID</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">randomUUID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getToken</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//根据appid &amp; secret获取第三方API接口token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在上面的代码示例中，如果开发者要使用<code>DemoClient</code>的方法调用第三方的接口资源，那么需要传递<code>appid</code>及<code>secret</code>参数才能构造实体类，又考虑到我们需要利用Spring Boot的条件注入，只有开发者配置了开启操作，才能在Spring容器中使用<code>DemoClient</code>的方法。</p><p>那么此时，我们可以给该starter组件抽象一个<code>DemoProperties</code>的外部配置类来交给使用者在配置文件中进行配置开启操作，代码示例如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@ConfigurationProperties</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoProperties</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * 是否启用</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> enable</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> appid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//getter and setter...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在配置类属性中，我们使用到了<code>@ConfigurationProperties</code>注解，并配置了<code>prefix</code>前缀参数,配置前缀也是自定义starter组件中所必须的，这约束了命名空间。一般是结合自身的业务以及starter组件所代表的功能含义进行命名<code>prefix</code>,有助于开发使用者记忆。</p><p>此时，我们的<code>DemoAutoConfiguration.java</code>配置类进行了调整，代码如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@EnableConfigurationProperties</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">DemoProperties</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">class</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@ConditionalOnProperty</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.enable&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">havingValue </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;true&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoAutoConfiguration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@Bean</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">DemoClient</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">demoClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">DemoProperties</span><span class="token plain"> demoProperties</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">DemoClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">demoProperties</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getAppid</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> demoProperties</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getSecret</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>和上面的配置类进行比较不难发现,此处我们又多用了两个注解：</p><ul><li><code>@EnableConfigurationProperties</code>:该注解是我们自定义指定Proerpty实体类时，必须启用的注解，和实体类中的<code>@ConfigurationProperties</code>注解配合一起使用</li><li><code>@ConditionalOnProperty</code>:Spring Boot框架中条件注入的一种，代码根据配置的属性进行条件判断注入，此处我们配置了只有当<code>demo.enable=true</code>时，<code>DemoAutoConfiguration</code>配置类才会加载，向Spring容器中注入<code>DemoClient</code>的实体Bean</li></ul><p>当自定义starter组件封装到这一步时，基本已经快完结了，开发者可以通过在Spring Boot的配置文件中进行配置，来开启是否使用<code>DemoClient</code>组件</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">demo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 通过配置该属性的true 或者false ，来开启组件的使用</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">enable</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">appid</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secret</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> xxxx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="属性元数据配置">属性元数据配置<a href="#属性元数据配置" class="hash-link" aria-label="属性元数据配置的直接链接" title="属性元数据配置的直接链接">​</a></h2><p>通过上面的配置，我们已经能够自定义一个Spring Boot框架的starter组件了，但是对于使用者来说，封装该starter组件的开发者还尚有最后一步需要完成，那就是给属性类提供元数据注释，提供元数据注释也是为了让使用者在配置<code>application.yml</code>属性时，通过IDEA等编辑器能够给出提示，这对使用者而已是大有裨益的，因为每一个属性都会有相应的注释供开发者进行参考。例如Knife4j组件提供的元数据注释如下图：</p><p><img loading="lazy" src="https://oscimg.oschina.net/oscnet/up-91e85f9a3926723e50f6b05ae548d76b291.png" class="img_ev3q"></p><p>那么我们在制定starter组件时，如何给属性类提供元数据注释呢？目前主要有两种方式：</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="引入spring-boot-configuration-processor自动注释">引入<code>spring-boot-configuration-processor</code>自动注释<a href="#引入spring-boot-configuration-processor自动注释" class="hash-link" aria-label="引入spring-boot-configuration-processor自动注释的直接链接" title="引入spring-boot-configuration-processor自动注释的直接链接">​</a></h3><p>我们可以在自定义是starter组件中引入该组件，依赖如下：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">org.springframework.boot</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">spring-boot-configuration-processor</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">2.3.0.RELEASE</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">optional</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">optional</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>引入该组件后，此时，我们只需要在我们的Java属性类中给每一个属性使用标准的javadoc进行注释即可，如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token annotation punctuation" style="color:#393A34">@ConfigurationProperties</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prefix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoProperties</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * 是否启用</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">boolean</span><span class="token plain"> enable</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * 第三方appid</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> appid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * 第三方secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> secret</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//getter and setter...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最终在使用时，就会出现提示，如下图：</p><p><img loading="lazy" src="/assets/images/authMetaData-aa9c1c68148942e9233a0b47b9e56051.png" width="618" height="106" class="img_ev3q"></p><p>这种方式如果属性类不是太多的情况下，开发者可以使用，很方便</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="手工编写spring-configuration-meatadatajson文件">手工编写<code>spring-configuration-meatadata.json</code>文件<a href="#手工编写spring-configuration-meatadatajson文件" class="hash-link" aria-label="手工编写spring-configuration-meatadatajson文件的直接链接" title="手工编写spring-configuration-meatadatajson文件的直接链接">​</a></h3><p><code>spring-boot-configuration-processor</code>组件最终在打包生成starter的jar包时，也是帮助我们自动生成了<code>spring-configuration-metadata.json</code>文件,该文件和上面提到的<code>spring.factories</code>是同级目录</p><p>手工编写<code>spring-configuration-metadata.json</code>也是我推荐的方式，因为不仅仅是每个属性的注释，有时候我们还可以用更多的属性配置以便使用者使用。</p><p>结果如下：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;groups&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.demo.spring.DemoProperties&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;sourceType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.demo.spring.DemoProperties&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;properties&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.appid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;java.lang.String&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;第三方appid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;sourceType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.demo.spring.DemoProperties&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.enable&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;java.lang.Boolean&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;是否启用&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;sourceType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.demo.spring.DemoProperties&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;defaultValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.secret&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;java.lang.String&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;第三方secret&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;sourceType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.demo.spring.DemoProperties&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;hints&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们主要使用到的属性有3个：<code>groups</code>、<code>properties</code>、<code>hints</code></p><p><strong>groups</strong></p><p>字面意思分组，按我的理解即当我们使用的实体时，配置的<code>prefix</code>即代表该group，例如上面我们为<code>DemoProperties</code>配置了prefix的前缀是<code>demo</code>,那么分组这里可以设置为<code>demo</code>,当然如果<code>DemoProperties</code>类中包含的属性是一个第三方类，假设如下：</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">DemoProperties</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token class-name">OtherProperties</span><span class="token plain"> other</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>那么我们可以在groups属性中配置一个名为<code>demo.other</code>的分组名称</p><p>其包含的属性如下：</p><table><thead><tr><th>属性名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>分组名称，可以理解为<code>prefix</code></td></tr><tr><td>type</td><td>String</td><td>组数据类名</td></tr><tr><td>description</td><td>String</td><td>分组简单的描述，可以省略</td></tr><tr><td>sourceType</td><td>String</td><td>组数据源类名,同type，如果源类型未知，可以忽略该属性</td></tr><tr><td>sourceMethod</td><td>String</td><td>组方法的名称，（例如，带<code>@ConfigurationProperties</code>注解的<code>@Bean</code>方法的名称）。 如果源方法未知，则可以省略。</td></tr></tbody></table><p><strong>properties</strong></p><p>顾名思义，就是我们实体类每个属性的配置，有多少属性需要添加元数据注释说明，就需要在该数组下全部添加，需要注意的是配置name时需要配置全路径，例如：<code>demo.enable</code>等</p><p>其包含的属性如下：</p><table><thead><tr><th>属性名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>属性名称</td></tr><tr><td>type</td><td>String</td><td>属性类型</td></tr><tr><td>description</td><td>String</td><td>属性的简介说明</td></tr><tr><td>sourceType</td><td>String</td><td>该属性归属于那个类型</td></tr><tr><td>defaultValue</td><td>Object</td><td>该属性默认值</td></tr><tr><td>deprecation</td><td>Deprecation</td><td>用于指定该属性是否过时</td></tr></tbody></table><p>过时选项<code>Deprecation</code>包含以下几个属性：</p><table><thead><tr><th>名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>level</td><td>String</td><td>过时的级别,可以指定<code>warning</code>或者<code>error</code>,当指定为<code>warning</code>时，代表该属性还可用，而指定<code>error</code>则代表彻底废弃</td></tr><tr><td>reason</td><td>String</td><td>原因</td></tr><tr><td>replacement</td><td>String</td><td>替换属性</td></tr></tbody></table><p><strong>hints</strong></p><p>针对该属性，我的理解是类似于Java中的枚举，只不过是给每一个属性的值配置一个说明，方便使用者在配置的时候能够按照规定的值进行正确配置</p><p>例如上面我们的示例：<code>demo.enable</code>属性，该属性类型为Boolean类型，要配置也只有两种值(true或者false)</p><p>那么我们可以给该值配置一个hints进行说明，示例如下：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;hints&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.enable&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;values&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;启用DemoClient组件&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;禁用DemoClient组件&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>当我们进行这样的配置后，最终使用者在使用时就会出现如下图所示的提示:
<img loading="lazy" src="data:image/png;base64,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" width="612" height="117" class="img_ev3q"></p><p>这对使用该starter组件的开发者来说，每个属性都有相应的说明，是非常方便的</p><p>hints主要包含的属性如下：</p><table><thead><tr><th>名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>属性名称</td></tr><tr><td>values</td><td>ValueHint[]</td><td>一个ValueHint的数组</td></tr><tr><td>providers</td><td>ValueProvider[]</td><td>一个ValueProvinder数组</td></tr></tbody></table><p>ValueHint是对其提供的值进行注释说明，其属性如下:</p><table><thead><tr><th>名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>value</td><td>Object</td><td>属性对应的值</td></tr><tr><td>description</td><td>String</td><td>该值的描述信息</td></tr></tbody></table><p>ValueProvider包含属性：</p><table><thead><tr><th>名称</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>属性名称</td></tr><tr><td>parameters</td><td>JSON Object</td><td>提供程序支持的其他参数类型</td></tr></tbody></table><p>在上面我提过，hints类似于枚举，这映射到ValueHint属性，当我们配置了hints属性中的<code>values</code>时而不提供<code>providers</code>属性时，如果开发者最终在使用时，只能配置ValueHint中定义的值，否则配置其他值时会在IDEA编辑器中就会爆红出错</p><p>还是以上面的示例，假设我们给appid配置hint值，如下：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;hints&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.appid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;values&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;测试appid1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;测试appid2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>那么我们在使用组件时，在<code>application.yml</code>配置文件中配置其他值时，idea会提示错误，如下图：</p><p><img loading="lazy" src="data:image/png;base64,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" width="486" height="143" class="img_ev3q"></p><p>此时，<code>providers</code>属性就可以排上用场了</p><p>修改上面的配置如下：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;hints&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;demo.appid&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;values&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;测试appid1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;测试appid2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;providers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;any&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我们可以配置providers为<code>any</code>,这样说明开发者除了可以配置<code>test1</code>、<code>test2</code>外，当配置其他值时，也是允许的</p><p>针对<code>providers</code>中的name属性，主要有以下类别供选择：</p><table><thead><tr><th align="left">Name</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>any</code></td><td align="left">Permits any additional value to be provided.</td></tr><tr><td align="left"><code>class-reference</code></td><td align="left">Auto-completes the classes available in the project. Usually constrained by a base class that is specified by the <code>target</code> parameter.</td></tr><tr><td align="left"><code>handle-as</code></td><td align="left">Handles the property as if it were defined by the type defined by the mandatory <code>target</code> parameter.</td></tr><tr><td align="left"><code>logger-name</code></td><td align="left">Auto-completes valid logger names and <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-custom-log-groups" target="_blank" rel="noopener noreferrer">logger groups</a>. Typically, package and class names available in the current project can be auto-completed as well as defined groups.</td></tr><tr><td align="left"><code>spring-bean-reference</code></td><td align="left">Auto-completes the available bean names in the current project. Usually constrained by a base class that is specified by the <code>target</code> parameter.</td></tr><tr><td align="left"><code>spring-profile-name</code></td><td align="left">Auto-completes the available Spring profile names in the project.</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="附录">附录<a href="#附录" class="hash-link" aria-label="附录的直接链接" title="附录的直接链接">​</a></h2><ul><li><a href="/2020/09/23/spring-boot-conditional/">Spring Boot框架中如何优雅的注入实体Bean</a></li><li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-configuration-metadata.html" target="_blank" rel="noopener noreferrer">Spring Boot Configuration Metadata Document</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/xiaoymin/blog-ai/blob/master/programmer/blog/springboot/2020-12-10-spring-boot-self-starter.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->由 <b>xiaoyumin</b> <!-- -->于 <b><time datetime="2023-06-11T10:11:43.000Z">2023年6月11日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/springboot/2020-09-23-spring-boot-conditional"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Spring Boot框架中如何优雅的注入实体Bean</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/springboot/2021-02-03-spring-boot-servlet-gateway-compoents"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">基于Servlet体系的HTTP请求代理转发Spring Boot组件</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#前言" class="table-of-contents__link toc-highlight">前言</a></li><li><a href="#自定义starter的作用" class="table-of-contents__link toc-highlight">自定义starter的作用</a></li><li><a href="#starter命名规范" class="table-of-contents__link toc-highlight">starter命名规范</a></li><li><a href="#jar包引用传递依赖机制" class="table-of-contents__link toc-highlight">jar包引用传递依赖机制</a></li><li><a href="#java代码方式的configuration" class="table-of-contents__link toc-highlight">Java代码方式的Configuration</a></li><li><a href="#spring-boot框架的自动装载" class="table-of-contents__link toc-highlight">Spring Boot框架的自动装载</a><ul><li><a href="#手工import导入" class="table-of-contents__link toc-highlight">手工<code>@Import</code>导入</a></li><li><a href="#提供便于记忆的注解enablexxx" class="table-of-contents__link toc-highlight">提供便于记忆的注解<code>@EnableXXX</code></a></li><li><a href="#自动装载" class="table-of-contents__link toc-highlight">自动装载</a></li></ul></li><li><a href="#充分利用spring-boot提供的conditional条件注入组件" class="table-of-contents__link toc-highlight">充分利用Spring Boot提供的<code>@Conditional</code>条件注入组件</a></li><li><a href="#属性元数据配置" class="table-of-contents__link toc-highlight">属性元数据配置</a><ul><li><a href="#引入spring-boot-configuration-processor自动注释" class="table-of-contents__link toc-highlight">引入<code>spring-boot-configuration-processor</code>自动注释</a></li><li><a href="#手工编写spring-configuration-meatadatajson文件" class="table-of-contents__link toc-highlight">手工编写<code>spring-configuration-meatadata.json</code>文件</a></li></ul></li><li><a href="#附录" class="table-of-contents__link toc-highlight">附录</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 八一菜刀, Inc. Built with <a href="https://www.docusaurus.cn/" target="_blank" rel="noopener noreferrer">Docusaurus</a>.<br> 浙ICP备18027673号</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1ba6c6ba.js"></script>
<script src="/assets/js/main.2fcd73bd.js"></script>
</body>
</html>